{"initial_state": "none", "states": {"start": {"transitions": {"notify_start": {"next": "request_weather_info", "action": {"name": "process_event", "config": {"type": "notification", "notification": "Weather Assistant Initialized", "publish": true, "allow_anonymous_users": true}}}}}, "request_weather_info": {"transitions": {"ask_location": {"next": "get_location", "action": {"name": "process_event", "config": {"type": "question", "question": "Please provide your location.", "example_answers": ["City name", "Street address"], "publish": true, "allow_anonymous_users": true}}}}}, "get_location": {"transitions": {"collect_location": {"next": "fetch_weather_data", "manual": false, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "fetch_weather", "description": "Fetch weather data based on location.", "strict": true, "parameters": {"type": "object", "properties": {"location": {"type": "string"}}, "required": ["location"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Please provide the weather information for the specified location."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}}}, "fetch_weather_data": {"transitions": {"show_weather": {"next": "display_weather_info", "action": {"name": "process_event", "config": {"type": "prompt", "messages": [{"role": "user", "content": ["Here is the weather information you requested:"]}], "publish": true, "allow_anonymous_users": true}}}}}, "display_weather_info": {"transitions": {"ask_feedback": {"next": "user_feedback", "action": {"name": "process_event", "config": {"type": "question", "question": "Did you find this information helpful?", "example_answers": ["Yes", "No"], "publish": true, "allow_anonymous_users": true}}}}}, "user_feedback": {"transitions": {"discuss_feedback": {"next": "user_feedback", "manual": true, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "set_additional_question_flag", "description": "Sets a flag for additional questions based on user feedback.", "strict": true, "parameters": {"type": "object", "properties": {"transition": {"type": "string"}, "require_additional_question_flag": {"type": "boolean"}}, "required": ["transition", "require_additional_question_flag"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Generic agent prompt message."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}, "finish_session": {"next": "end_session", "condition": {"config": {"type": "function", "function": {"name": "is_stage_completed", "description": "Verifies stage is complete", "params": {"transition": "discuss_feedback"}}}}}}}, "end_session": {"transitions": {"notify_completion": {"next": "end", "action": {"name": "process_event", "config": {"type": "notification", "notification": "Thank you for using the Weather Assistant!", "publish": true, "allow_anonymous_users": true}}}}}}}