{"initial_state": "none", "states": {"start": {"transitions": {"request_weather_info": {"next": "request_weather", "action": {"name": "process_event", "config": {"type": "question", "question": "Please provide your location for the weather information.", "example_answers": ["New York", "Los Angeles", "Chicago"], "publish": true, "allow_anonymous_users": true}}}}}, "request_weather": {"transitions": {"fetch_weather_data": {"next": "weather_data_fetched", "manual": true, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "get_weather_data", "description": "Fetches weather data based on location.", "strict": true, "parameters": {"type": "object", "properties": {"location": {"type": "string"}}, "required": ["location"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Fetching weather data for the given location."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}}}, "weather_data_fetched": {"transitions": {"check_user_preferences": {"next": "user_preferences", "condition": {"config": {"type": "function", "function": {"name": "is_user_preferences_set", "description": "Checks if user preferences are set", "params": {"transition": "check_user_preferences"}}}}}}}, "user_preferences": {"transitions": {"personalize_response": {"next": "personalized_response", "manual": true, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "personalize_weather_response", "description": "Generates a personalized weather response based on user preferences.", "strict": true, "parameters": {"type": "object", "properties": {"user": {"type": "string"}}, "required": ["user"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Please provide a personalized weather response."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}, "notify_weather": {"next": "notify_user", "manual": true, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "generic_tool", "description": "Generic tool for agent processing.", "strict": true, "parameters": {"type": "object", "properties": {"query": {"type": "string"}}, "required": ["query"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Here's the weather update you requested."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}}}, "personalized_response": {"transitions": {"notify_weather": {"next": "notify_user", "manual": true, "action": {"name": "process_event", "config": {"type": "agent", "publish": true, "allow_anonymous_users": true, "model": {}, "tools": [{"type": "function", "function": {"name": "generic_tool", "description": "Generic tool for agent processing.", "strict": true, "parameters": {"type": "object", "properties": {"query": {"type": "string"}}, "required": ["query"], "additionalProperties": false}}}], "messages": [{"role": "user", "content": ["Here's your personalized weather update."]}], "tool_choice": "auto", "max_iteration": 10, "approve": true}}}}}, "notify_user": {"transitions": {"finish": {"next": "end", "action": {"name": "process_event", "config": {"type": "prompt", "messages": [{"role": "user", "content": ["Thank you for using the weather assistant!"]}], "publish": true, "allow_anonymous_users": true}}}}}}}